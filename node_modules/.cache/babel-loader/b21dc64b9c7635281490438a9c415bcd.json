{"ast":null,"code":"import _toConsumableArray from\"/Users/m.europa/Desktop/img_css/poker_game/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/m.europa/Desktop/img_css/poker_game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{ImageView}from'../../components/imageView';import{decks}from'../../store/mazzi';// styles\nimport'./contatore.scss';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";/**\n * Components that returns a counter and redirect to main page\n */var Contatore=function Contatore(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var _useState3=useState(6),_useState4=_slicedToArray(_useState3,1),numberDecks=_useState4[0];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),creationCard=_useState6[0],setCreationCard=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),deck=_useState8[0],setDeck=_useState8[1];var _useState9=useState({semi:null,name:'',value:0,image:'start'}),_useState10=_slicedToArray(_useState9,2),card=_useState10[0],setCard=_useState10[1];// console.log( deck.length  )\nuseEffect(function(){if(creationCard){setDeck(decks(numberDecks));setCard(card);setCreationCard(false);}},[card,creationCard,numberDecks]);useEffect(function(){setCount(function(count){return count+(card===null||card===void 0?void 0:card.value);});},[card]);var handleCount=function handleCount(){selectionCards();};var cardRemove=function cardRemove(deckSel,cardPosition){var newDeck=_toConsumableArray(deckSel);newDeck.splice(cardPosition,1);return newDeck;};function getRandomInt(max){return Math.floor(Math.random()*max);}var selectionCards=function selectionCards(){var indexCard=getRandomInt(deck.length);var card=deck[indexCard];setCard(card);setDeck(cardRemove(deck,indexCard));};var percentDecks=function percentDecks(numberDecks,totCardleft){return numberDecks*52-totCardleft;};return/*#__PURE__*/_jsxs(\"div\",{className:\"pg-contatore\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"numero di mazzi \",numberDecks]}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"percentuale carte gi\\xE0 giocate  \",percentDecks(numberDecks,deck.length)]}),/*#__PURE__*/_jsx(ImageView,{imageCard:card.image,nameCard:card.name}),/*#__PURE__*/_jsx(\"h1\",{children:count}),deck.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"contatore-containerButton\",children:/*#__PURE__*/_jsx(\"button\",{className:\"contatore-button\",onClick:handleCount,children:\" cliccami \"})})]});};export default/*#__PURE__*/React.memo(Contatore);","map":{"version":3,"names":["React","useEffect","useState","ImageView","decks","Contatore","count","setCount","numberDecks","creationCard","setCreationCard","deck","setDeck","semi","name","value","image","card","setCard","handleCount","selectionCards","cardRemove","deckSel","cardPosition","newDeck","splice","getRandomInt","max","Math","floor","random","indexCard","length","percentDecks","totCardleft","memo"],"sources":["/Users/m.europa/Desktop/img_css/poker_game/src/page/Contatore/Contatore.tsx"],"sourcesContent":["import React, { useEffect, useState }  from 'react';     \nimport { ImageView } from '../../components/imageView';\nimport { decks } from '../../store/mazzi';\nimport { cardState } from '../../store/mazzo'; \n \n\n// styles\nimport './contatore.scss';\n\ninterface ContatoreProps {  }\n\n/**\n * Components that returns a counter and redirect to main page\n */\nconst Contatore: React.FC<ContatoreProps> = () => { \n\n  const [ count, setCount ] = useState(0)\n  const [ numberDecks ] = useState(6)\n  const [ creationCard , setCreationCard ] = useState(true) \n  const [ deck, setDeck ] = useState<Array<cardState>>([])\n  const [ card, setCard ] = useState<cardState>( {semi: null,name: '',value: 0 ,image:'start'}) \n\n\n  // console.log( deck.length  )\n\n   \n  useEffect(()=>{ \n    if(creationCard){\n        setDeck( decks(numberDecks) );\n        setCard(card)\n        setCreationCard(false)\n      }\n    } , [card, creationCard, numberDecks]\n  )\n\n  useEffect(()=>{ \n    setCount( count =>  count + card?.value )\n   } , [ card ] )\n\n  const handleCount = () => {\n    selectionCards()  \n  } \n\n  const cardRemove = ( deckSel:any ,cardPosition:number) => {\n    let newDeck = [...deckSel]\n    newDeck.splice(cardPosition,1)\n    return newDeck\n  }\n \n  function getRandomInt(max:number) {\n    return Math.floor(Math.random() * max);\n  }\n\n  const selectionCards = () => {\n    var indexCard = getRandomInt(deck.length)\n    var card = deck[indexCard]\n    setCard(card)\n    setDeck(cardRemove(deck,indexCard) )  \n  } \n\n  const percentDecks = ( numberDecks:number, totCardleft:number ) => {\n    return( ( (numberDecks*52) - totCardleft )  )\n  }\n\n  return (\n    <div className='pg-contatore'>  \n      <h1>numero di mazzi {numberDecks}</h1> \n      <h1>percentuale carte gi√† giocate  { percentDecks(numberDecks, deck.length)}</h1> \n      <ImageView imageCard={card.image} nameCard={card.name} /> \n      <h1>{count}</h1>\n      { deck.length>1 &&\n        <div className='contatore-containerButton'>\n          <button className='contatore-button' onClick={ handleCount } > cliccami </button> \n        </div> \n      } \n    </div>\n  );\n};\n\n \nexport default React.memo(Contatore);"],"mappings":"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"},"metadata":{},"sourceType":"module"}