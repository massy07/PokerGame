{"ast":null,"code":"import { createSlice, current } from '@reduxjs/toolkit';\nexport const handsPlayers = [{\n  turnOn: false,\n  dealer: false,\n  user: 'player_1',\n  cardHand: [],\n  valueHand: 0\n}, {\n  turnOn: false,\n  dealer: true,\n  user: 'dealer',\n  cardHand: [],\n  valueHand: 0\n}];\nconst handsPlayersSlice = createSlice({\n  name: 'handCardsPlayers',\n  initialState: handsPlayers,\n  reducers: {\n    setPlayer: state => {\n      state = [{\n        turnOn: false,\n        dealer: false,\n        user: 'player_1',\n        cardHand: [],\n        valueHand: 0\n      }, {\n        turnOn: false,\n        dealer: true,\n        user: 'dealer',\n        cardHand: [],\n        valueHand: 0\n      }];\n      return state;\n    },\n    setPlayerTable: (state, action) => {\n      let newDeck = [...state];\n\n      for (let i = 0; i < action.payload; i++) {\n        newDeck.push({\n          turnOn: i === 0,\n          dealer: false,\n          user: 'player_' + (i + 1),\n          cardHand: [],\n          valueHand: 0\n        });\n      }\n\n      newDeck.push({\n        turnOn: false,\n        dealer: true,\n        user: 'dealer',\n        cardHand: [],\n        valueHand: 0\n      });\n      console.log(newDeck);\n      return newDeck;\n    },\n    setPlayerHand: (state, action) => {\n      console.log(action);\n      console.log(current(state));\n      let addHandsCard = [...state];\n      let lookingPlayer = true;\n\n      if (addHandsCard.length > 0) {\n        for (let i = 0; i < addHandsCard.length; i++) {\n          if (addHandsCard[i].turnOn && lookingPlayer) {\n            addHandsCard[i].cardHand.push(action.payload);\n            lookingPlayer = false;\n\n            if (addHandsCard[i + 1]) {\n              addHandsCard[i].turnOn = false;\n              addHandsCard[i + 1].turnOn = true;\n            } else {\n              addHandsCard[0].turnOn = true;\n            }\n          }\n        }\n      }\n\n      console.log(addHandsCard);\n      return current(addHandsCard);\n    }\n  }\n});\nexport const {\n  setPlayer,\n  setPlayerHand,\n  setPlayerTable\n} = handsPlayersSlice.actions;\nexport default handsPlayersSlice.reducer;","map":{"version":3,"names":["createSlice","current","handsPlayers","turnOn","dealer","user","cardHand","valueHand","handsPlayersSlice","name","initialState","reducers","setPlayer","state","setPlayerTable","action","newDeck","i","payload","push","console","log","setPlayerHand","addHandsCard","lookingPlayer","length","actions","reducer"],"sources":["/Users/m.europa/Desktop/img_css/PokerGame/src/store/reducer/handCardsPlayersStore.ts"],"sourcesContent":["import { createSlice, PayloadAction, current  } from '@reduxjs/toolkit'\nimport { createFalse } from 'typescript'\nimport { cardState } from '../entities/deck'\nimport { handCardsPlayerState } from '../entities/handCardsPlayers'\n \n\nexport const handsPlayers:Array<handCardsPlayerState>=[\n  { turnOn: false, dealer: false, user: ( 'player_1') , cardHand:[] ,  valueHand: 0 } ,\n  { turnOn: false, dealer: true, user: 'dealer', cardHand:[], valueHand: 0}\n]\n\nconst handsPlayersSlice = createSlice({\n  name:'handCardsPlayers',\n  initialState: handsPlayers,\n  reducers:{\n    setPlayer:(state ) => {\n      state=[ \n        { turnOn: false, dealer: false, user: ( 'player_1') , cardHand:[] ,  valueHand: 0 } ,\n        { turnOn: false, dealer: true, user: 'dealer', cardHand:[], valueHand: 0}\n      ] \n      return state;\n    }, \n    setPlayerTable:(state, action:PayloadAction<number>) => {\n      let newDeck = [...state]  \n      for( let i:number=0; i<action.payload ; i++){\n        newDeck.push( { turnOn:(i===0) , dealer: false, user: ( 'player_'+(i+1)) , cardHand:[] ,  valueHand: 0 } ) \n      } \n      newDeck.push( { turnOn:false, dealer: true, user: 'dealer', cardHand:[], valueHand: 0})  \n      console.log(newDeck)\n      return newDeck   \n    }, \n    setPlayerHand:(state, action:PayloadAction<cardState> ) => {\n      console.log(action);\n      console.log(current(state)); \n\n      let addHandsCard:Array<handCardsPlayerState> = [ ...state ] \n      let lookingPlayer:boolean=true \n      if( addHandsCard.length>0){\n        for( let i:number=0; i<addHandsCard.length ; i++){ \n          if( addHandsCard[i].turnOn && lookingPlayer ){\n            addHandsCard[i].cardHand.push( action.payload )   \n            lookingPlayer=false\n            if(addHandsCard[i+1]){\n              addHandsCard[i].turnOn=false\n              addHandsCard[i+1].turnOn=true\n            }else{\n              addHandsCard[0].turnOn=true\n            }\n          }\n          \n        }\n      } \n      console.log(addHandsCard)\n      return current(addHandsCard) \n\n    }\n  }\n})\n \n\nexport const { setPlayer, setPlayerHand, setPlayerTable } = handsPlayersSlice.actions \n\nexport default handsPlayersSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}